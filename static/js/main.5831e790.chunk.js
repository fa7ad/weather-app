(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{59:function(e,t,n){e.exports=n(99)},68:function(e,t,n){},89:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(8),i=n(7),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(68);var l=n(2),u=n(11),m=Object(l.b)("SET_LOCATION"),d=Object(l.c)({list:["Dhaka,BD","Chittagong,BD","Khulna,BD","Sylhet,BD","Rajshahi,BD","Mymensingh,BD","Barisal,BD","Rangpur,BD","Comilla,BD","Narayanganj,BD","Gazipur,BD"],current:"Dhaka,BD"},Object(u.a)({},m.type,function(e,t){e.current=t.payload})),p=Object(l.b)("SET_WEATHER"),h={today:{date:+new Date,temp:{now:0,min:0,max:0},wind:{speed:0,deg:0},humidity:"0%",icon:{main:"Clear",description:"clear sky",icon_name:"01d"}}},f=Object(l.c)(h,Object(u.a)({},p.type,function(e,t){Object.assign(e,t.payload)})),w=Object(l.b)("SET_THEME"),b=Object(l.c)({theme:"light"},Object(u.a)({},w.type,function(e,t){e.theme=t.payload})),v=Object(l.a)({reducer:{location:d,weather:f,ui:b}}),g=n(12),y=n(13),j=n(15),E=n(14),O=n(16),_=n(21),D=n.n(_),k=n(55),B=n.n(k),N=n(22),C=n(57),L=n(39),A=n.n(L),x=n(40),T=n(56),S=n(6),U=n.n(S),W="8f2bf25652abdf4ec31970ac8dced7fb";function M(e){return{date:1e3*e.dt,temp:{now:Math.round(e.main.temp),min:Math.round(e.main.temp_min),max:Math.round(e.main.temp_max)},wind:e.wind,humidity:e.main.humidity,icon:{main:e.weather[0].main,description:e.weather[0].description,icon_name:(e.weather[0].id+"-"+e.weather[0].icon.slice(-1)).replace(/(-[0-9])$/,"")}}}function z(){return(z=Object(T.a)(A.a.mark(function e(t){var n,a,o,r,i,c,s,l,u,m,d,p,h,f,w;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={appid:W,units:"metric"},/[a-zA-z]/.test(t)?Object.assign(n,{q:t}):(a=t.split(","),o=Object(x.a)(a,2),r=o[0],i=o[1],Object.assign(n,{lat:r,lon:i})),e.next=4,D.a.get("https://api.openweathermap.org/data/2.5/forecast",{params:n});case 4:return c=e.sent,s=c.data,l=[].slice.call(s.list),u=U()(),m=U()(),d=U()(),m.add(1,"day"),d.add(2,"days"),p=function(e){return function(t){return U.a.unix(t.dt).utc().isSame(e,"day")}},h=l.filter(p(u)).slice(-1),f=l.filter(p(m)).slice(-1),w=l.filter(p(d)).slice(-1),e.abrupt("return",{today:M(h[0]),tomorrow:M(f[0]),after:M(w[0])});case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}n(89);var I=n(90).default,P=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).timer=setTimeout(function(){},0),n.handleLocationChange=function(e){n.props.setLocationAndUpdate(e.value.replace(/(,BD)?$/,",BD"))},n.listLocations=n.props.locationList.map(function(e){return{value:e,label:e.replace(",BD","")}}),n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.setLocationAndUpdate(this.props.location),this.timer=setInterval(function(){return e.props.setLocationAndUpdate(e.props.location)},3e5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.location,n=e.theme,a=e.weather;return o.a.createElement("div",{className:B()("current-weather","current-weather--".concat(n))},o.a.createElement(I,{onChange:this.handleLocationChange,options:this.listLocations,value:{value:t,label:t.replace(",BD","")},components:{DropdownIndicator:function(){return o.a.createElement(N.c,null)},IndicatorSeparator:null},className:"current-weather__location",classNamePrefix:"location-select"}),o.a.createElement("div",{className:"current-weather__temperature"},o.a.createElement("div",{className:"current-weather__minmax"},o.a.createElement(N.b,null),a.temp.max,o.a.createElement("sup",null,"\xb0"),"\xa0",o.a.createElement(N.a,null),a.temp.min,o.a.createElement("sup",null,"\xb0")),a.temp.now,o.a.createElement("sup",null,"\xb0")),o.a.createElement("div",{className:"current-weather__icon"},a.icon.main,o.a.createElement("br",null),o.a.createElement("i",{className:"owf owf-5x owf-".concat(a.icon.icon_name)})),o.a.createElement("div",{className:"current-weather__humidity",title:"Humidity"},o.a.createElement(C.a,{size:"2em"})," ",a.humidity," %"))}}]),t}(o.a.PureComponent),R=Object(r.b)(function(e){return{theme:e.ui.theme,locationList:e.location.list,location:e.location.current,weather:e.weather.today}},{setLocationAndUpdate:function(e){return function(t){var n={appid:W,units:"metric"};if(/[a-zA-z]/.test(e))Object.assign(n,{q:e});else{var a=e.split(","),o=Object(x.a)(a,2),r=o[0],i=o[1];Object.assign(n,{lat:r,lon:i})}return t(m(e)),function(e){return z.apply(this,arguments)}(e).then(function(e){return t(p(e))}).catch(console.error)}}})(P),H=function(e){return o.a.createElement("div",{className:"forecast-item__root"},o.a.createElement("div",{className:"forecast-item__day"},e.day),o.a.createElement("div",{className:"forecast-item__forecast"},o.a.createElement("div",{className:"forecast-item__temperature"},e.temp,o.a.createElement("sup",null,"\xb0")),o.a.createElement("i",{className:"forecast-item__icon owf owf-".concat(e.icon)})))},$=(n(98),function(e){function t(){return Object(g.a)(this,t),Object(j.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.today,n=e.tomorrow,a=e.after;return o.a.createElement("div",{className:"forecasts__root"},o.a.createElement(H,{day:U()(t.date).utc().format("dddd"),icon:t.icon.icon_name,temp:t.temp.now}),n&&o.a.createElement(H,{day:U()(n.date).utc().format("dddd"),icon:n.icon.icon_name,temp:n.temp.now}),a&&o.a.createElement(H,{day:U()(a.date).utc().format("dddd"),icon:a.icon.icon_name,temp:a.temp.now}))}}]),t}(a.Component)),q=Object(r.b)(function(e){return{today:e.weather.today,tomorrow:e.weather.tomorrow,after:e.weather.after}},null)($),J=function(e){function t(){return Object(g.a)(this,t),Object(j.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new Date;t.getHours()>18||t.getHours()<6?this.props.setTheme("dark"):this.props.setTheme("light"),"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(t){D.a.get("https://nominatim.openstreetmap.org/reverse",{params:{lat:t.coords.latitude,lon:t.coords.longitude,format:"json"}}).then(function(t){var n=t.data.address,a=n.city,o=n.country_code;e.props.setLocation(a+","+o.toUpperCase())})})}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(R,null),o.a.createElement(q,null))}}]),t}(o.a.PureComponent),F=Object(r.b)(null,{setTheme:w,setLocation:m})(J),G=document.getElementById("root");(G&&G.hasChildNodes()?i.hydrate:i.render)(o.a.createElement(r.a,{store:v},o.a.createElement(F,null)),G),function(e){if("serviceWorker"in navigator){if(new URL("/weather-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/weather-app","/service-worker.js");c?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):s(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):s(t,e)})}}()}},[[59,1,2]]]);
//# sourceMappingURL=main.5831e790.chunk.js.map