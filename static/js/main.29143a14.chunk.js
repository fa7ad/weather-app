(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{59:function(e,t,n){e.exports=n(99)},68:function(e,t,n){},89:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(11),i=n(7),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(68);var s=n(2),u=n(10),m=Object(s.b)("SET_LOCATION"),d=Object(s.c)({list:["Dhaka,BD","Chittagong,BD","Khulna,BD","Sylhet,BD","Rajshahi,BD","Mymensingh,BD","Barisal,BD","Rangpur,BD","Comilla,BD","Narayanganj,BD","Gazipur,BD"],current:"Dhaka,BD"},Object(u.a)({},m.type,function(e,t){e.current=t.payload})),p=Object(s.b)("SET_WEATHER"),h={today:{date:+new Date,temp:{now:0,min:0,max:0},wind:{speed:0,deg:0},humidity:"0%",icon:{main:"Clear",description:"clear sky",icon_name:"01d"}}},f=Object(s.c)(h,Object(u.a)({},p.type,function(e,t){Object.assign(e,t.payload)})),w=Object(s.b)("SET_THEME"),b=Object(s.c)({theme:"light"},Object(u.a)({},w.type,function(e,t){e.theme=t.payload})),v=Object(s.a)({reducer:{location:d,weather:f,ui:b}}),y=n(16),g=n(17),E=n(19),j=n(18),O=n(20),_=n(54),D=n.n(_),B=n(21),N=n(57),k=n(38),A=n.n(k),C=n(39),L=n(55),x=n(6),S=n.n(x),T=n(56),W=n.n(T),U="8f2bf25652abdf4ec31970ac8dced7fb";function z(e){return{date:1e3*e.dt,temp:{now:Math.round(e.main.temp),min:Math.round(e.main.temp_min),max:Math.round(e.main.temp_max)},wind:e.wind,humidity:e.main.humidity,icon:{main:e.weather[0].main,description:e.weather[0].description,icon_name:(e.weather[0].id+"-"+e.weather[0].icon.slice(-1)).replace(/(-[0-9])$/,"")}}}function I(){return(I=Object(L.a)(A.a.mark(function e(t){var n,a,r,o,i,c,l,s,u,m,d,p,h,f,w;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={appid:U,units:"metric"},/[a-zA-z]/.test(t)?Object.assign(n,{q:t}):(a=t.split(","),r=Object(C.a)(a,2),o=r[0],i=r[1],Object.assign(n,{lat:o,lon:i})),e.next=4,W.a.get("https://api.openweathermap.org/data/2.5/forecast",{params:n});case 4:return c=e.sent,l=c.data,s=[].slice.call(l.list),u=S()(),m=S()(),d=S()(),m.add(1,"day"),d.add(2,"days"),p=function(e){return function(t){return S.a.unix(t.dt).utc().isSame(e,"day")}},h=s.filter(p(u)).slice(-1),f=s.filter(p(m)).slice(-1),w=s.filter(p(d)).slice(-1),e.abrupt("return",{today:z(h[0]),tomorrow:z(f[0]),after:z(w[0])});case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}n(89);var M=n(90).default,R=function(e){function t(){var e,n;Object(y.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).timer=setTimeout(function(){},0),n.handleLocationChange=function(e){n.props.setLocationAndUpdate(e.value.replace(/(,BD)?$/,",BD"))},n.listLocations=n.props.locationList.map(function(e){return{value:e,label:e.replace(",BD","")}}),n}return Object(O.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.setLocationAndUpdate(this.props.location),this.timer=setInterval(function(){return e.props.setLocationAndUpdate(e.props.location)},5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.location,n=e.theme,a=e.weather;return r.a.createElement("div",{className:D()("current-weather","current-weather--".concat(n))},r.a.createElement(M,{onChange:this.handleLocationChange,options:this.listLocations,value:{value:t,label:t.replace(",BD","")},components:{DropdownIndicator:function(){return r.a.createElement(B.c,null)},IndicatorSeparator:null},className:"current-weather__location",classNamePrefix:"location-select"}),r.a.createElement("div",{className:"current-weather__temperature"},r.a.createElement("div",{className:"current-weather__minmax"},r.a.createElement(B.b,null),a.temp.max,r.a.createElement("sup",null,"\xb0"),"\xa0",r.a.createElement(B.a,null),a.temp.min,r.a.createElement("sup",null,"\xb0")),a.temp.now,r.a.createElement("sup",null,"\xb0")),r.a.createElement("div",{className:"current-weather__icon"},a.icon.main,r.a.createElement("br",null),r.a.createElement("i",{className:"owf owf-5x owf-".concat(a.icon.icon_name)})),r.a.createElement("div",{className:"current-weather__humidity",title:"Humidity"},r.a.createElement(N.a,{size:"2em"})," ",a.humidity," %"))}}]),t}(r.a.PureComponent),P=Object(o.b)(function(e){return{theme:e.ui.theme,locationList:e.location.list,location:e.location.current,weather:e.weather.today}},{setLocationAndUpdate:function(e){return function(t){var n={appid:U,units:"metric"};if(/[a-zA-z]/.test(e))Object.assign(n,{q:e});else{var a=e.split(","),r=Object(C.a)(a,2),o=r[0],i=r[1];Object.assign(n,{lat:o,lon:i})}return t(m(e)),function(e){return I.apply(this,arguments)}(e).then(function(e){return t(p(e))}).catch(console.error)}}})(R),H=function(e){return r.a.createElement("div",{className:"forecast-item__root"},r.a.createElement("div",{className:"forecast-item__day"},e.day),r.a.createElement("div",{className:"forecast-item__forecast"},r.a.createElement("div",{className:"forecast-item__temperature"},e.temp,r.a.createElement("sup",null,"\xb0")),r.a.createElement("i",{className:"forecast-item__icon owf owf-".concat(e.icon)})))},$=(n(98),function(e){function t(){return Object(y.a)(this,t),Object(E.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.today,n=e.tomorrow,a=e.after;return r.a.createElement("div",{className:"forecasts__root"},r.a.createElement(H,{day:S()(t.date).format("dddd"),icon:t.icon.icon_name,temp:t.temp.now}),n&&r.a.createElement(H,{day:S()(n.date).format("dddd"),icon:n.icon.icon_name,temp:n.temp.now}),a&&r.a.createElement(H,{day:S()(a.date).format("dddd"),icon:a.icon.icon_name,temp:a.temp.now}))}}]),t}(a.Component)),q=Object(o.b)(function(e){return{today:e.weather.today,tomorrow:e.weather.tomorrow,after:e.weather.after}},null)($),J=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,null),r.a.createElement(q,null))},F=document.getElementById("root");(F&&F.hasChildNodes()?i.hydrate:i.render)(r.a.createElement(o.a,{store:v},r.a.createElement(J,null)),F),function(e){if("serviceWorker"in navigator){if(new URL("/weather-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/weather-app","/service-worker.js");c?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):l(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):l(t,e)})}}()}},[[59,1,2]]]);
//# sourceMappingURL=main.29143a14.chunk.js.map